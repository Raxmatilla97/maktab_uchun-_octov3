(()=>{"use strict";var __webpack_modules__={5311:module=>{module.exports=jQuery}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}(()=>{function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Controller=function(){function Controller(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Controller),this.started=!1}var Constructor,protoProps,staticProps;return Constructor=Controller,staticProps=[{key:"disposeControls",value:function(container){container===document&&(container=document.documentElement),container.querySelectorAll("[data-disposable]").forEach((function(control){oc.Events.dispatch("october:dispose",{target:control})})),container.hasAttribute("data-disposable")&&oc.Events.dispatch("october:dispose",{target:container})}}],(protoProps=[{key:"start",value:function(){this.started||(this.started=!0),this.bindAutoDisposal()}},{key:"stop",value:function(){this.started&&(this.started=!1)}},{key:"bindAutoDisposal",value:function(){addEventListener("page:before-render",(function(ev){Controller.disposeControls(ev.target)})),addEventListener("ajax:before-replace",(function(ev){Controller.disposeControls(ev.target)}))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Controller}();function normalizeData(value){if("true"===value)return!0;if("false"===value)return!1;if(value===Number(value).toString())return Number(value);if(""===value||"null"===value)return null;if("string"!=typeof value)return value;try{return JSON.parse(decodeURIComponent(value))}catch(_unused){return value}}function normalizeDataKey(key){return key.replace(/[A-Z]/g,(function(chr){return"-".concat(chr.toLowerCase())}))}const util_config={setDataAttribute:function(element,key,value){element.setAttribute("data-".concat(normalizeDataKey(key)),value)},removeDataAttribute:function(element,key){element.removeAttribute("data-".concat(normalizeDataKey(key)))},getDataAttributes:function(element){if(!element)return{};for(var attributes={},_i=0,_dataKeys=Object.keys(element.dataset);_i<_dataKeys.length;_i++){var key=_dataKeys[_i];attributes[key]=normalizeData(element.dataset[key])}return attributes},getDataAttribute:function(element,key){return normalizeData(element.getAttribute("data-".concat(normalizeDataKey(key))))}};var elementMap=new Map;const data_set=function(element,key,instance){elementMap.has(element)||elementMap.set(element,new Map);var instanceMap=elementMap.get(element);instanceMap.has(key)||0===instanceMap.size?instanceMap.set(key,instance):console.error("[Foundation] Cannot bind more than one instance per element. Bound instance: ".concat(Array.from(instanceMap.keys())[0],"."))},data_get=function(element,key){return elementMap.has(element)&&elementMap.get(element).get(key)||null},data_remove=function(element,key){if(elementMap.has(element)){var instanceMap=elementMap.get(element);instanceMap.delete(key),0===instanceMap.size&&elementMap.delete(element)}};function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function base_class_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var BaseClass=function(){function BaseClass(element,config){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseClass),(element=getElement(element))&&(this.element=element,this.config=this.getConfig(config),this.proxiedMethods={},data_set(this.element,this.constructor.DATANAME,this))}var Constructor,protoProps,staticProps;return Constructor=BaseClass,protoProps=[{key:"dispose",value:function(){for(var key in data_remove(this.element,this.constructor.DATANAME),this.forget("october:dispose",this.proxy(this.dispose)),this.proxiedMethods)this.proxiedMethods[key]=null;var _step,_iterator=_createForOfIteratorHelper(Object.getOwnPropertyNames(this));try{for(_iterator.s();!(_step=_iterator.n()).done;)this[_step.value]=null}catch(err){_iterator.e(err)}finally{_iterator.f()}}},{key:"listen",value:function(eventName,handler,callback){return oc.Events.on(this.element,eventName,handler,callback)}},{key:"listenOnce",value:function(eventName,handler,callback){return oc.Events.one(this.element,eventName,handler,callback)}},{key:"forget",value:function(eventName,handler,callback){return oc.Events.off(this.element,eventName,handler,callback)}},{key:"dispatch",value:function(eventName){var args=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return oc.Events.dispatch(eventName,_objectSpread({target:this.element},args))}},{key:"markDisposable",value:function(){this.element.setAttribute("data-disposable",""),this.listen("october:dispose",this.proxy(this.dispose))}},{key:"onDispose",value:function(callback){this.listen("october:dispose",this.proxy(callback))}},{key:"proxy",value:function(method){return void 0===method.ocProxyId&&(BaseClass.proxyCounter++,method.ocProxyId=BaseClass.proxyCounter),void 0!==this.proxiedMethods[method.ocProxyId]||(this.proxiedMethods[method.ocProxyId]=method.bind(this)),this.proxiedMethods[method.ocProxyId]}},{key:"getConfig",value:function(config){return _objectSpread(_objectSpread(_objectSpread({},this.constructor.DEFAULTS),util_config.getDataAttributes(this.element)),"object"===_typeof(config)?config:{})}}],staticProps=[{key:"getInstance",value:function(element){return data_get(getElement(element),this.DATANAME)}},{key:"getOrCreateInstance",value:function(element){var config=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(element)||new this(element,"object"===_typeof(config)?config:null)}}],protoProps&&base_class_defineProperties(Constructor.prototype,protoProps),staticProps&&base_class_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),BaseClass}();function getElement(element){return"string"==typeof object&&object.length>0?document.querySelector(object):element}_defineProperty(BaseClass,"proxyCounter",0);var $=__webpack_require__(5311);function select_typeof(obj){return select_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},select_typeof(obj)}function select_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===select_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var Select=function(_BaseClass){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(Select,_BaseClass);var Constructor,protoProps,staticProps,_super=_createSuper(Select);function Select(element,config){var _this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Select),(_this=_super.call(this,element,config)).$el=$(element),_this.formatSelectOption=function(state){var text=$("<span>").text(state.text).html();if(void 0===state.id)return text;var $option=$(state.element),statusColor=state.status?state.status:$option.data("status"),iconClass=state.icon?state.icon:$option.data("icon"),imageSrc=state.image?state.image:$option.data("image");return statusColor?'<span class="select-status status-indicator" style="background:'+statusColor+'"></span> '+text:iconClass?'<i class="select-icon '+iconClass+'"></i> '+text:imageSrc?'<img class="select-image" src="'+imageSrc+'" alt="" /> '+text:text},_this.disableSelect=function(event,status){null!=$(this).data("select2")&&$(this).select2("enable",!status)};var self=_assertThisInitialized(_this);return _this.triggerNativeChange=function(event){oc.Events.dispatch("change",{target:event.currentTarget}),$(event.currentTarget).one("change",self.triggerNativeChange)},_this.destroyPlaceholder(),_this.$el.one("change",_this.proxy(_this.triggerNativeChange)),_this.$el.on("disable",_this.proxy(_this.disableSelect)),_this.bindCustomSelect(),_this.bindCustomSelectWorkaround(),_this.markDisposable(),_this}return Constructor=Select,protoProps=[{key:"bindCustomSelectWorkaround",value:function(){this.$el.data("select2").$container.addClass(this.options.containerCssClass),this.select2OpenWorkaround=function(){setTimeout((function(){document.querySelector(".select2-container--open .select2-search__field").focus()}),100)},this.$el.on("select2:open",this.select2OpenWorkaround)}},{key:"dispose",value:function(){this.clonePlaceholder(),this.$el.off("change",this.proxy(this.triggerNativeChange)),this.$el.off("disable",this.proxy(this.disableSelect)),this.$el.off("select2:open",this.select2OpenWorkaround),this.$el.select2("destroy"),_get(_getPrototypeOf(Select.prototype),"dispose",this).call(this)}},{key:"destroyPlaceholder",value:function(){var artefact=this.element&&this.element.nextElementSibling;artefact&&artefact.matches(".select2")&&artefact.remove()}},{key:"clonePlaceholder",value:function(){var artefact=this.element&&this.element.nextElementSibling;if(artefact&&artefact.matches(".select2")){var newNode=artefact.cloneNode(!0);artefact.parentNode.insertBefore(newNode,artefact.nextSibling),newNode.innerHtml=artefact.innerHtml,this.element.style.display="none"}}},{key:"bindCustomSelect",value:function(){var options=this.options=this.buildSelectOptions();this.element.dataset.handler&&(options=this.buildAjaxHandlerOption(options,this.element.dataset.handler)),this.element.dataset.tokenSeparators&&(options=this.buildTokenSeparatorOptions(options,this.element.dataset.tokenSeparators)),this.$el.select2(options)}},{key:"buildTokenSeparatorOptions",value:function(selectOptions,separators){return selectOptions.tags=!0,selectOptions.tokenSeparators=separators.split("|"),this.element.classList.contains("select-no-dropdown")&&(selectOptions.selectOnClose=!0,selectOptions.closeOnSelect=!1,selectOptions.minimumInputLength=1,this.$el.on("select2:closing",(function(){var highlightedEls=$(".select2-dropdown.select-no-dropdown:first .select2-results__option--highlighted");highlightedEls.length>0&&(highlightedEls.removeClass("select2-results__option--highlighted"),$(".select2-dropdown.select-no-dropdown:first .select2-results__option:first").addClass("select2-results__option--highlighted"))}))),selectOptions}},{key:"buildAjaxHandlerOption",value:function(selectOptions,handler){var self=this;return selectOptions.ajax={transport:function(params,success,failure){var request=oc.request(self.$el.get(0),handler,{data:params.data});return request.done(success),request.fail(failure),request},processResults:function(data,params){var results=data.result||data.results,options=[];if(delete data.result,results[0]&&"object"===select_typeof(results[0]))options=results;else for(var i in results)results.hasOwnProperty(i)&&options.push({id:i,text:results[i]});return data.results=options,data},dataType:"json"},selectOptions}},{key:"buildSelectOptions",value:function(){var selectOptions={templateResult:this.formatSelectOption,templateSelection:this.formatSelectOption,escapeMarkup:function(m){return m},width:"style",containerCssClass:"",dropdownCssClass:"",selectionCssClass:""};this.element.classList.contains("select-no-search")&&(selectOptions.minimumResultsForSearch=1/0),this.element.classList.contains("select-no-dropdown")&&(selectOptions.dropdownCssClass+=" select-no-dropdown",selectOptions.selectionCssClass+=" select-no-dropdown"),this.element.classList.contains("select-hide-selected")&&(selectOptions.dropdownCssClass+=" select-hide-selected"),this.element.classList.contains("select-dropdown-auto-width")&&(selectOptions.dropdownAutoWidth=!0),this.element.classList.contains("form-control-sm")&&(selectOptions.containerCssClass+=" form-control-sm"),this.element.classList.contains("form-control-lg")&&(selectOptions.containerCssClass+=" form-control-lg");var language=this.element.dataset.language;if(!language){var meta=document.querySelector('meta[name="backend-locale"]');meta&&(language=meta.getAttribute("content"))}language&&(selectOptions.language=language);var placeholder=this.element.dataset.placeholder;return placeholder&&(selectOptions.placeholder=placeholder,selectOptions.allowClear=!0),selectOptions}}],staticProps=[{key:"DATANAME",get:function(){return"ocSelect"}},{key:"DEFAULTS",get:function(){return{animation:!0,autohide:!0,delay:5e3}}}],protoProps&&select_defineProperties(Constructor.prototype,protoProps),staticProps&&select_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Select}(BaseClass);addEventListener("render",(function(){document.querySelectorAll("select.custom-select").forEach((function(el){Select.getOrCreateInstance(el)}))}));var instance=new Controller;window.oc&&(window.oc.Foundation=instance,window.oc.FoundationBase=BaseClass),instance.start()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL21vZHVsZXMvYmFja2VuZC9hc3NldHMvanMvZm91bmRhdGlvbi1taW4uanMiLCJtYXBwaW5ncyI6IjBEQUFBQSxPQUFPQyxRQUFVQyxNLEdDQ2JDLHlCQUEyQixDQUFDLEVBR2hDLFNBQVNDLG9CQUFvQkMsVUFFNUIsSUFBSUMsYUFBZUgseUJBQXlCRSxVQUM1QyxRQUFxQkUsSUFBakJELGFBQ0gsT0FBT0EsYUFBYUwsUUFHckIsSUFBSUQsT0FBU0cseUJBQXlCRSxVQUFZLENBR2pESixRQUFTLENBQUMsR0FPWCxPQUhBTyxvQkFBb0JILFVBQVVMLE9BQVFBLE9BQU9DLFFBQVNHLHFCQUcvQ0osT0FBT0MsT0FDZixDLDBSQ3RCTyxJQUFNUSxXQUFiLFdBRUksdUIsOEhBQWMsa0JBQ1ZDLEtBQUtDLFNBQVUsQ0FDbEIsQyx1Q0FKTCxPLFlBQUEsVyxZQUFBLDhCQWtDSSxTQUF1QkMsV0FDZkEsWUFBY0MsV0FDZEQsVUFBWUMsU0FBU0MsaUJBR3pCRixVQUFVRyxpQkFBaUIscUJBQXFCQyxTQUFRLFNBQVNDLFNBQzdEQyxHQUFHQyxPQUFPQyxTQUFTLGtCQUFtQixDQUFFQyxPQUFRSixTQUNuRCxJQUVHTCxVQUFVVSxhQUFhLG9CQUN2QkosR0FBR0MsT0FBT0MsU0FBUyxrQkFBbUIsQ0FBRUMsT0FBUVQsV0FFdkQsSyxXQTlDTCxvQkFNSSxXQUNTRixLQUFLQyxVQUNORCxLQUFLQyxTQUFVLEdBR25CRCxLQUFLYSxrQkFDUixHQVpMLGtCQWNJLFdBQ1FiLEtBQUtDLFVBQ0xELEtBQUtDLFNBQVUsRUFFdEIsR0FsQkwsOEJBc0JJLFdBQ0lhLGlCQUFpQixzQkFBc0IsU0FBU0MsSUFDNUNoQixXQUFXaUIsZ0JBQWdCRCxHQUFHSixPQUNqQyxJQUVERyxpQkFBaUIsdUJBQXVCLFNBQVNDLElBQzdDaEIsV0FBV2lCLGdCQUFnQkQsR0FBR0osT0FDakMsR0FDSixNLHlLQTlCTCxjQ0FBLFNBQVNNLGNBQWNDLE9BQ25CLEdBQWMsU0FBVkEsTUFDQSxPQUFPLEVBR1gsR0FB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Y3NDLFlBQWNBLFlBQzVCdEMsY0FBY3VDLFlBQWEsR0FHeEJ2QyxhQUNWLEksaUNBRUQsV0FDSSxNQUFPLFVBQ1YsRyxvQkFFRCxXQUNJLE1BQU8sQ0FDSHdDLFdBQVcsRUFDWEMsVUFBVSxFQUNWQyxNQUFPLElBRWQsSSx3TUFoUUM1RixDQUFlOUIsV0FtUXJCdkMsaUJBQWlCLFVBQVUsV0FDdkJYLFNBQVNFLGlCQUFpQix3QkFBd0JDLFNBQVEsU0FBUzBLLElBQy9EN0YsT0FBTzhGLG9CQUFvQkQsR0FDOUIsR0FDSixJQ3JRRCxJQUFNckksU0FBVyxJQUFJNUMsV0FFakJtTCxPQUFPMUssS0FDUDBLLE9BQU8xSyxHQUFHMkssV0FBYXhJLFNBQ3ZCdUksT0FBTzFLLEdBQUc0SyxlQUFpQi9ILFdBRy9CVixTQUFTMEksTyIsInNvdXJjZXMiOlsid2VicGFjazovL29jdG9iZXJjbXMvZXh0ZXJuYWwgdmFyIFwialF1ZXJ5XCIiLCJ3ZWJwYWNrOi8vb2N0b2JlcmNtcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vY3RvYmVyY21zLy4vbW9kdWxlcy9iYWNrZW5kL2Fzc2V0cy9mb3VuZGF0aW9uL2NvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vb2N0b2JlcmNtcy8uL21vZHVsZXMvYmFja2VuZC9hc3NldHMvZm91bmRhdGlvbi91dGlsL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9vY3RvYmVyY21zLy4vbW9kdWxlcy9iYWNrZW5kL2Fzc2V0cy9mb3VuZGF0aW9uL3V0aWwvZGF0YS5qcyIsIndlYnBhY2s6Ly9vY3RvYmVyY21zLy4vbW9kdWxlcy9iYWNrZW5kL2Fzc2V0cy9mb3VuZGF0aW9uL2Jhc2UtY2xhc3MuanMiLCJ3ZWJwYWNrOi8vb2N0b2JlcmNtcy8uL21vZHVsZXMvYmFja2VuZC9hc3NldHMvZm91bmRhdGlvbi9jb250cm9scy9zZWxlY3Qvc2VsZWN0LmpzIiwid2VicGFjazovL29jdG9iZXJjbXMvLi9tb2R1bGVzL2JhY2tlbmQvYXNzZXRzL2ZvdW5kYXRpb24vZm91bmRhdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGpRdWVyeTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiZXhwb3J0IGNsYXNzIENvbnRyb2xsZXJcbntcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5iaW5kQXV0b0Rpc3Bvc2FsKCk7XG4gICAgfVxuXG4gICAgc3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBdXRvbWF0aWNhbGx5IGRpc3Bvc2UgY29udHJvbHMgaW4gYW4gZWxlbWVudCBiZWZvcmUgdGhlIGVsZW1lbnQgY29udGVudHMgaXMgcmVwbGFjZWQuXG4gICAgLy8gVGhlIGFqYXhCZWZvcmVSZXBsYWNlIGV2ZW50IGlzIHRyaWdnZXJlZCBieSB0aGUgQUpBWCBmcmFtZXdvcmsuXG4gICAgYmluZEF1dG9EaXNwb3NhbCgpIHtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncGFnZTpiZWZvcmUtcmVuZGVyJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICAgIENvbnRyb2xsZXIuZGlzcG9zZUNvbnRyb2xzKGV2LnRhcmdldCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ2FqYXg6YmVmb3JlLXJlcGxhY2UnLCBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgQ29udHJvbGxlci5kaXNwb3NlQ29udHJvbHMoZXYudGFyZ2V0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gRGVzdHJveXMgYWxsIGRpc3Bvc2FibGUgY29udHJvbHMgaW4gYSBjb250YWluZXIuXG4gICAgLy8gVGhlIGRpc3Bvc2FibGUgY29udHJvbHMgc2hvdWxkIHdhdGNoIHRoZSBkaXNwb3NlLWNvbnRyb2wgZXZlbnQuXG4gICAgc3RhdGljIGRpc3Bvc2VDb250cm9scyhjb250YWluZXIpIHtcbiAgICAgICAgaWYgKGNvbnRhaW5lciA9PT0gZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1kaXNwb3NhYmxlXScpLmZvckVhY2goZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgICAgICAgb2MuRXZlbnRzLmRpc3BhdGNoKCdvY3RvYmVyOmRpc3Bvc2UnLCB7IHRhcmdldDogY29udHJvbCB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGNvbnRhaW5lci5oYXNBdHRyaWJ1dGUoJ2RhdGEtZGlzcG9zYWJsZScpKSB7XG4gICAgICAgICAgICBvYy5FdmVudHMuZGlzcGF0Y2goJ29jdG9iZXI6ZGlzcG9zZScsIHsgdGFyZ2V0OiBjb250YWluZXIgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJmdW5jdGlvbiBub3JtYWxpemVEYXRhKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSAndHJ1ZScpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgPT09ICdmYWxzZScpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKHZhbHVlID09PSBOdW1iZXIodmFsdWUpLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSlcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSAnbnVsbCcpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWVcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVEYXRhS2V5KGtleSkge1xuICAgIHJldHVybiBrZXkucmVwbGFjZSgvW0EtWl0vZywgY2hyID0+IGAtJHtjaHIudG9Mb3dlckNhc2UoKX1gKVxufVxuXG5jb25zdCBDb25maWcgPSB7XG4gICAgc2V0RGF0YUF0dHJpYnV0ZShlbGVtZW50LCBrZXksIHZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGBkYXRhLSR7bm9ybWFsaXplRGF0YUtleShrZXkpfWAsIHZhbHVlKTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlRGF0YUF0dHJpYnV0ZShlbGVtZW50LCBrZXkpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYGRhdGEtJHtub3JtYWxpemVEYXRhS2V5KGtleSl9YCk7XG4gICAgfSxcblxuICAgIGdldERhdGFBdHRyaWJ1dGVzKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0ge307XG4gICAgICAgIGNvbnN0IGRhdGFLZXlzID0gT2JqZWN0LmtleXMoZWxlbWVudC5kYXRhc2V0KTtcblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBkYXRhS2V5cykge1xuICAgICAgICAgICAgYXR0cmlidXRlc1trZXldID0gbm9ybWFsaXplRGF0YShlbGVtZW50LmRhdGFzZXRba2V5XSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9LFxuXG4gICAgZ2V0RGF0YUF0dHJpYnV0ZShlbGVtZW50LCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZURhdGEoZWxlbWVudC5nZXRBdHRyaWJ1dGUoYGRhdGEtJHtub3JtYWxpemVEYXRhS2V5KGtleSl9YCkpXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25maWdcbiIsImNvbnN0IGVsZW1lbnRNYXAgPSBuZXcgTWFwKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBzZXQoZWxlbWVudCwga2V5LCBpbnN0YW5jZSkge1xuICAgICAgICBpZiAoIWVsZW1lbnRNYXAuaGFzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBlbGVtZW50TWFwLnNldChlbGVtZW50LCBuZXcgTWFwKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5zdGFuY2VNYXAgPSBlbGVtZW50TWFwLmdldChlbGVtZW50KTtcbiAgICAgICAgaWYgKCFpbnN0YW5jZU1hcC5oYXMoa2V5KSAmJiBpbnN0YW5jZU1hcC5zaXplICE9PSAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbRm91bmRhdGlvbl0gQ2Fubm90IGJpbmQgbW9yZSB0aGFuIG9uZSBpbnN0YW5jZSBwZXIgZWxlbWVudC4gQm91bmQgaW5zdGFuY2U6ICR7QXJyYXkuZnJvbShpbnN0YW5jZU1hcC5rZXlzKCkpWzBdfS5gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGluc3RhbmNlTWFwLnNldChrZXksIGluc3RhbmNlKTtcbiAgICB9LFxuXG4gICAgZ2V0KGVsZW1lbnQsIGtleSkge1xuICAgICAgICBpZiAoZWxlbWVudE1hcC5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50TWFwLmdldChlbGVtZW50KS5nZXQoa2V5KSB8fCBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIHJlbW92ZShlbGVtZW50LCBrZXkpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50TWFwLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5zdGFuY2VNYXAgPSBlbGVtZW50TWFwLmdldChlbGVtZW50KTtcblxuICAgICAgICBpbnN0YW5jZU1hcC5kZWxldGUoa2V5KTtcblxuICAgICAgICBpZiAoaW5zdGFuY2VNYXAuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgZWxlbWVudE1hcC5kZWxldGUoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgQ29uZmlnIGZyb20gJy4vdXRpbC9jb25maWcnO1xuaW1wb3J0IERhdGEgZnJvbSAnLi91dGlsL2RhdGEnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlQ2xhc3NcbntcbiAgICBzdGF0aWMgcHJveHlDb3VudGVyID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgICBlbGVtZW50ID0gZ2V0RWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICAgIHRoaXMucHJveGllZE1ldGhvZHMgPSB7fTtcblxuICAgICAgICBEYXRhLnNldCh0aGlzLmVsZW1lbnQsIHRoaXMuY29uc3RydWN0b3IuREFUQU5BTUUsIHRoaXMpO1xuICAgIH1cblxuICAgIC8vIFB1YmxpY1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIERhdGEucmVtb3ZlKHRoaXMuZWxlbWVudCwgdGhpcy5jb25zdHJ1Y3Rvci5EQVRBTkFNRSlcblxuICAgICAgICB0aGlzLmZvcmdldCgnb2N0b2JlcjpkaXNwb3NlJywgdGhpcy5wcm94eSh0aGlzLmRpc3Bvc2UpKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLnByb3hpZWRNZXRob2RzKSB7XG4gICAgICAgICAgICB0aGlzLnByb3hpZWRNZXRob2RzW2tleV0gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eU5hbWUgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcbiAgICAgICAgICAgIHRoaXNbcHJvcGVydHlOYW1lXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTdGF0aWNcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gRGF0YS5nZXQoZ2V0RWxlbWVudChlbGVtZW50KSwgdGhpcy5EQVRBTkFNRSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldE9yQ3JlYXRlSW5zdGFuY2UoZWxlbWVudCwgY29uZmlnID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoZWxlbWVudCkgfHwgbmV3IHRoaXMoZWxlbWVudCwgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgPyBjb25maWcgOiBudWxsKTtcbiAgICB9XG5cbiAgICAvLyBFdmVudHNcbiAgICBsaXN0ZW4oZXZlbnROYW1lLCBoYW5kbGVyLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gb2MuRXZlbnRzLm9uKHRoaXMuZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgbGlzdGVuT25jZShldmVudE5hbWUsIGhhbmRsZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBvYy5FdmVudHMub25lKHRoaXMuZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgZm9yZ2V0KGV2ZW50TmFtZSwgaGFuZGxlciwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIG9jLkV2ZW50cy5vZmYodGhpcy5lbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBkaXNwYXRjaChldmVudE5hbWUsIGFyZ3MgPSB7fSkge1xuICAgICAgICByZXR1cm4gb2MuRXZlbnRzLmRpc3BhdGNoKGV2ZW50TmFtZSwgeyB0YXJnZXQ6IHRoaXMuZWxlbWVudCwgLi4uYXJncyB9KTtcbiAgICB9XG5cbiAgICAvLyBQcml2YXRlXG4gICAgbWFya0Rpc3Bvc2FibGUoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGlzcG9zYWJsZScsICcnKVxuICAgICAgICB0aGlzLmxpc3Rlbignb2N0b2JlcjpkaXNwb3NlJywgdGhpcy5wcm94eSh0aGlzLmRpc3Bvc2UpKTtcbiAgICB9XG5cbiAgICBvbkRpc3Bvc2UoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5saXN0ZW4oJ29jdG9iZXI6ZGlzcG9zZScsIHRoaXMucHJveHkoY2FsbGJhY2spKTtcbiAgICB9XG5cbiAgICBwcm94eShtZXRob2QpIHtcbiAgICAgICAgaWYgKG1ldGhvZC5vY1Byb3h5SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQmFzZUNsYXNzLnByb3h5Q291bnRlcisrO1xuICAgICAgICAgICAgbWV0aG9kLm9jUHJveHlJZCA9IEJhc2VDbGFzcy5wcm94eUNvdW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wcm94aWVkTWV0aG9kc1ttZXRob2Qub2NQcm94eUlkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm94aWVkTWV0aG9kc1ttZXRob2Qub2NQcm94eUlkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHJveGllZE1ldGhvZHNbbWV0aG9kLm9jUHJveHlJZF0gPSBtZXRob2QuYmluZCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5wcm94aWVkTWV0aG9kc1ttZXRob2Qub2NQcm94eUlkXTtcbiAgICB9XG5cbiAgICBnZXRDb25maWcoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi50aGlzLmNvbnN0cnVjdG9yLkRFRkFVTFRTLFxuICAgICAgICAgICAgLi4uQ29uZmlnLmdldERhdGFBdHRyaWJ1dGVzKHRoaXMuZWxlbWVudCksXG4gICAgICAgICAgICAuLi4odHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgPyBjb25maWcgOiB7fSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RWxlbWVudChlbGVtZW50KSB7XG4gICAgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdzdHJpbmcnICYmIG9iamVjdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9iamVjdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG59XG4iLCJpbXBvcnQgQmFzZUNsYXNzIGZyb20gJy4uLy4uL2Jhc2UtY2xhc3MnO1xuXG5jbGFzcyBTZWxlY3QgZXh0ZW5kcyBCYXNlQ2xhc3NcbntcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCwgY29uZmlnKTtcblxuICAgICAgICB0aGlzLiRlbCA9ICQoZWxlbWVudCk7XG5cbiAgICAgICAgLy8gSW50ZXJuYWwgRXZlbnRzXG4gICAgICAgIHRoaXMuZm9ybWF0U2VsZWN0T3B0aW9uID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgICAgICAgICAgIC8vIEVzY2FwZSBIVE1MXG4gICAgICAgICAgICB2YXIgdGV4dCA9ICQoJzxzcGFuPicpLnRleHQoc3RhdGUudGV4dCkuaHRtbCgpO1xuXG4gICAgICAgICAgICAvLyBFbGVtZW50IGlzIG9wdGdyb3VwXG4gICAgICAgICAgICBpZiAoc3RhdGUuaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgJG9wdGlvbiA9ICQoc3RhdGUuZWxlbWVudCksXG4gICAgICAgICAgICAgICAgc3RhdHVzQ29sb3IgPSBzdGF0ZS5zdGF0dXMgPyBzdGF0ZS5zdGF0dXMgOiAkb3B0aW9uLmRhdGEoJ3N0YXR1cycpLFxuICAgICAgICAgICAgICAgIGljb25DbGFzcyA9IHN0YXRlLmljb24gPyBzdGF0ZS5pY29uIDogJG9wdGlvbi5kYXRhKCdpY29uJyksXG4gICAgICAgICAgICAgICAgaW1hZ2VTcmMgPSBzdGF0ZS5pbWFnZSA/IHN0YXRlLmltYWdlIDogJG9wdGlvbi5kYXRhKCdpbWFnZScpO1xuXG4gICAgICAgICAgICBpZiAoc3RhdHVzQ29sb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwic2VsZWN0LXN0YXR1cyBzdGF0dXMtaW5kaWNhdG9yXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOicrc3RhdHVzQ29sb3IrJ1wiPjwvc3Bhbj4gJyArIHRleHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpY29uQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJzxpIGNsYXNzPVwic2VsZWN0LWljb24gJytpY29uQ2xhc3MrJ1wiPjwvaT4gJyArIHRleHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpbWFnZVNyYykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnPGltZyBjbGFzcz1cInNlbGVjdC1pbWFnZVwiIHNyYz1cIicraW1hZ2VTcmMrJ1wiIGFsdD1cIlwiIC8+ICcgKyB0ZXh0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlzYWJsZVNlbGVjdCA9IGZ1bmN0aW9uKGV2ZW50LCBzdGF0dXMpIHtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ3NlbGVjdDInKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5zZWxlY3QyKCdlbmFibGUnLCAhc3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBCaW5kIHRvIG5hdGl2ZSBhbmQgcHJldmVudCByZWN1cnNpb24gd2l0aCBldmVudCBvbmNlXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy50cmlnZ2VyTmF0aXZlQ2hhbmdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIG9jLkV2ZW50cy5kaXNwYXRjaCgnY2hhbmdlJywgeyB0YXJnZXQ6IGV2ZW50LmN1cnJlbnRUYXJnZXQgfSk7XG4gICAgICAgICAgICAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLm9uZSgnY2hhbmdlJywgc2VsZi50cmlnZ2VyTmF0aXZlQ2hhbmdlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBEZXN0cm95IHBsYWNlaG9sZGVyIGlmIGl0IGlzIHN0aWxsIHRoZXJlXG4gICAgICAgIHRoaXMuZGVzdHJveVBsYWNlaG9sZGVyKCk7XG5cbiAgICAgICAgLy8gSW5pdFxuICAgICAgICB0aGlzLiRlbC5vbmUoJ2NoYW5nZScsIHRoaXMucHJveHkodGhpcy50cmlnZ2VyTmF0aXZlQ2hhbmdlKSk7XG4gICAgICAgIHRoaXMuJGVsLm9uKCdkaXNhYmxlJywgdGhpcy5wcm94eSh0aGlzLmRpc2FibGVTZWxlY3QpKTtcblxuICAgICAgICB0aGlzLmJpbmRDdXN0b21TZWxlY3QoKTtcbiAgICAgICAgdGhpcy5iaW5kQ3VzdG9tU2VsZWN0V29ya2Fyb3VuZCgpO1xuICAgICAgICB0aGlzLm1hcmtEaXNwb3NhYmxlKCk7XG4gICAgfVxuXG4gICAgYmluZEN1c3RvbVNlbGVjdFdvcmthcm91bmQoKSB7XG4gICAgICAgIC8vIEhhY2sgdG8gcmVpbnRyb2R1Y2UgY29udGFpbmVyQ3NzQ2xhc3NcbiAgICAgICAgdGhpcy4kZWwuZGF0YSgnc2VsZWN0MicpLiRjb250YWluZXIuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNvbnRhaW5lckNzc0NsYXNzKTtcblxuICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBzZWFyY2ggbm90IGF1dG8gZm9jdXNpbmcgKGh0dHBzOi8vZ2l0aHViLmNvbS9zZWxlY3QyL3NlbGVjdDIvaXNzdWVzLzU5OTMpXG4gICAgICAgIHRoaXMuc2VsZWN0Mk9wZW5Xb3JrYXJvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3QyLWNvbnRhaW5lci0tb3BlbiAuc2VsZWN0Mi1zZWFyY2hfX2ZpZWxkJykuZm9jdXMoKTtcbiAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy4kZWwub24oJ3NlbGVjdDI6b3BlbicsIHRoaXMuc2VsZWN0Mk9wZW5Xb3JrYXJvdW5kKTtcbiAgICB9XG5cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmNsb25lUGxhY2Vob2xkZXIoKTtcblxuICAgICAgICB0aGlzLiRlbC5vZmYoJ2NoYW5nZScsIHRoaXMucHJveHkodGhpcy50cmlnZ2VyTmF0aXZlQ2hhbmdlKSk7XG4gICAgICAgIHRoaXMuJGVsLm9mZignZGlzYWJsZScsIHRoaXMucHJveHkodGhpcy5kaXNhYmxlU2VsZWN0KSk7XG5cbiAgICAgICAgdGhpcy4kZWwub2ZmKCdzZWxlY3QyOm9wZW4nLCB0aGlzLnNlbGVjdDJPcGVuV29ya2Fyb3VuZCk7XG4gICAgICAgIHRoaXMuJGVsLnNlbGVjdDIoJ2Rlc3Ryb3knKTtcblxuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgfVxuXG4gICAgZGVzdHJveVBsYWNlaG9sZGVyKCkge1xuICAgICAgICB2YXIgYXJ0ZWZhY3QgPSB0aGlzLmVsZW1lbnQgJiYgdGhpcy5lbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgaWYgKGFydGVmYWN0ICYmIGFydGVmYWN0Lm1hdGNoZXMoJy5zZWxlY3QyJykpIHtcbiAgICAgICAgICAgIGFydGVmYWN0LnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xvbmVQbGFjZWhvbGRlcigpIHtcbiAgICAgICAgdmFyIGFydGVmYWN0ID0gdGhpcy5lbGVtZW50ICYmIHRoaXMuZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgIGlmIChhcnRlZmFjdCAmJiBhcnRlZmFjdC5tYXRjaGVzKCcuc2VsZWN0MicpKSB7XG4gICAgICAgICAgICB2YXIgbmV3Tm9kZSA9IGFydGVmYWN0LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICAgIGFydGVmYWN0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld05vZGUsIGFydGVmYWN0Lm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgIG5ld05vZGUuaW5uZXJIdG1sID0gYXJ0ZWZhY3QuaW5uZXJIdG1sO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBiaW5kQ3VzdG9tU2VsZWN0KCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyA9IHRoaXMuYnVpbGRTZWxlY3RPcHRpb25zKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5kYXRhc2V0LmhhbmRsZXIpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLmJ1aWxkQWpheEhhbmRsZXJPcHRpb24ob3B0aW9ucywgdGhpcy5lbGVtZW50LmRhdGFzZXQuaGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lbGVtZW50LmRhdGFzZXQudG9rZW5TZXBhcmF0b3JzKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gdGhpcy5idWlsZFRva2VuU2VwYXJhdG9yT3B0aW9ucyhvcHRpb25zLCB0aGlzLmVsZW1lbnQuZGF0YXNldC50b2tlblNlcGFyYXRvcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4kZWwuc2VsZWN0MihvcHRpb25zKTtcbiAgICB9XG5cbiAgICBidWlsZFRva2VuU2VwYXJhdG9yT3B0aW9ucyhzZWxlY3RPcHRpb25zLCBzZXBhcmF0b3JzKSB7XG4gICAgICAgIHNlbGVjdE9wdGlvbnMudGFncyA9IHRydWU7XG4gICAgICAgIHNlbGVjdE9wdGlvbnMudG9rZW5TZXBhcmF0b3JzID0gc2VwYXJhdG9ycy5zcGxpdCgnfCcpO1xuXG4gICAgICAgIC8vIFdoZW4gdGhlIGRyb3Bkb3duIGlzIGhpZGRlbiwgZm9yY2UgdGhlIGZpcnN0IG9wdGlvbiB0byBiZSBzZWxlY3RlZCBhbHdheXMuXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3Qtbm8tZHJvcGRvd24nKSkge1xuICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5zZWxlY3RPbkNsb3NlID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMuY2xvc2VPblNlbGVjdCA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5taW5pbXVtSW5wdXRMZW5ndGggPSAxO1xuXG4gICAgICAgICAgICB0aGlzLiRlbC5vbignc2VsZWN0MjpjbG9zaW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhpZ2hsaWdodGVkRWxzID0gJCgnLnNlbGVjdDItZHJvcGRvd24uc2VsZWN0LW5vLWRyb3Bkb3duOmZpcnN0IC5zZWxlY3QyLXJlc3VsdHNfX29wdGlvbi0taGlnaGxpZ2h0ZWQnKTtcbiAgICAgICAgICAgICAgICBpZiAoaGlnaGxpZ2h0ZWRFbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRlZEVscy5yZW1vdmVDbGFzcygnc2VsZWN0Mi1yZXN1bHRzX19vcHRpb24tLWhpZ2hsaWdodGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zZWxlY3QyLWRyb3Bkb3duLnNlbGVjdC1uby1kcm9wZG93bjpmaXJzdCAuc2VsZWN0Mi1yZXN1bHRzX19vcHRpb246Zmlyc3QnKS5hZGRDbGFzcygnc2VsZWN0Mi1yZXN1bHRzX19vcHRpb24tLWhpZ2hsaWdodGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VsZWN0T3B0aW9ucztcbiAgICB9XG5cbiAgICBidWlsZEFqYXhIYW5kbGVyT3B0aW9uKHNlbGVjdE9wdGlvbnMsIGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHNlbGVjdE9wdGlvbnMuYWpheCA9IHtcbiAgICAgICAgICAgIHRyYW5zcG9ydDogZnVuY3Rpb24ocGFyYW1zLCBzdWNjZXNzLCBmYWlsdXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBvYy5yZXF1ZXN0KHNlbGYuJGVsLmdldCgwKSwgaGFuZGxlciwge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBwYXJhbXMuZGF0YVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5kb25lKHN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIHJlcXVlc3QuZmFpbChmYWlsdXJlKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2Nlc3NSZXN1bHRzOiBmdW5jdGlvbiAoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBkYXRhLnJlc3VsdCB8fCBkYXRhLnJlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBbXTtcblxuICAgICAgICAgICAgICAgIGRlbGV0ZShkYXRhLnJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAvLyBTZWxlY3QyIGZvcm1hdFxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzWzBdICYmIHR5cGVvZihyZXN1bHRzWzBdKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEJ1aWxkIGtleS12YWx1ZSBtYXBcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0cy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXN1bHRzW2ldXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkYXRhLnJlc3VsdHMgPSBvcHRpb25zO1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gc2VsZWN0T3B0aW9ucztcbiAgICB9XG5cbiAgICBidWlsZFNlbGVjdE9wdGlvbnMoKSB7XG4gICAgICAgIHZhciBzZWxlY3RPcHRpb25zID0ge1xuICAgICAgICAgICAgdGVtcGxhdGVSZXN1bHQ6IHRoaXMuZm9ybWF0U2VsZWN0T3B0aW9uLFxuICAgICAgICAgICAgdGVtcGxhdGVTZWxlY3Rpb246IHRoaXMuZm9ybWF0U2VsZWN0T3B0aW9uLFxuICAgICAgICAgICAgZXNjYXBlTWFya3VwOiBmdW5jdGlvbihtKSB7IHJldHVybiBtIH0sXG4gICAgICAgICAgICB3aWR0aDogJ3N0eWxlJyxcbiAgICAgICAgICAgIGNvbnRhaW5lckNzc0NsYXNzOiAnJyxcbiAgICAgICAgICAgIGRyb3Bkb3duQ3NzQ2xhc3M6ICcnLFxuICAgICAgICAgICAgc2VsZWN0aW9uQ3NzQ2xhc3M6ICcnXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0LW5vLXNlYXJjaCcpKSB7XG4gICAgICAgICAgICBzZWxlY3RPcHRpb25zLm1pbmltdW1SZXN1bHRzRm9yU2VhcmNoID0gSW5maW5pdHk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0LW5vLWRyb3Bkb3duJykpIHtcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMuZHJvcGRvd25Dc3NDbGFzcyArPSAnIHNlbGVjdC1uby1kcm9wZG93bic7XG4gICAgICAgICAgICBzZWxlY3RPcHRpb25zLnNlbGVjdGlvbkNzc0NsYXNzICs9ICcgc2VsZWN0LW5vLWRyb3Bkb3duJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3QtaGlkZS1zZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICBzZWxlY3RPcHRpb25zLmRyb3Bkb3duQ3NzQ2xhc3MgKz0gJyBzZWxlY3QtaGlkZS1zZWxlY3RlZCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0LWRyb3Bkb3duLWF1dG8td2lkdGgnKSkge1xuICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5kcm9wZG93bkF1dG9XaWR0aCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaXppbmdcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zvcm0tY29udHJvbC1zbScpKSB7XG4gICAgICAgICAgICBzZWxlY3RPcHRpb25zLmNvbnRhaW5lckNzc0NsYXNzICs9ICcgZm9ybS1jb250cm9sLXNtJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmb3JtLWNvbnRyb2wtbGcnKSkge1xuICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5jb250YWluZXJDc3NDbGFzcyArPSAnIGZvcm0tY29udHJvbC1sZyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMYW5ndWFnZVxuICAgICAgICB2YXIgbGFuZ3VhZ2UgPSB0aGlzLmVsZW1lbnQuZGF0YXNldC5sYW5ndWFnZTtcbiAgICAgICAgaWYgKCFsYW5ndWFnZSkge1xuICAgICAgICAgICAgdmFyIG1ldGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJiYWNrZW5kLWxvY2FsZVwiXScpO1xuICAgICAgICAgICAgaWYgKG1ldGEpIHtcbiAgICAgICAgICAgICAgICBsYW5ndWFnZSA9IG1ldGEuZ2V0QXR0cmlidXRlKCdjb250ZW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMubGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBsYWNlaG9sZGVyXG4gICAgICAgIHZhciBwbGFjZWhvbGRlciA9IHRoaXMuZWxlbWVudC5kYXRhc2V0LnBsYWNlaG9sZGVyO1xuICAgICAgICBpZiAocGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMuYWxsb3dDbGVhciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VsZWN0T3B0aW9ucztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IERBVEFOQU1FKCkge1xuICAgICAgICByZXR1cm4gJ29jU2VsZWN0JztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IERFRkFVTFRTKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgYXV0b2hpZGU6IHRydWUsXG4gICAgICAgICAgICBkZWxheTogNTAwMFxuICAgICAgICB9XG4gICAgfVxufVxuXG5hZGRFdmVudExpc3RlbmVyKCdyZW5kZXInLCBmdW5jdGlvbigpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWxlY3QuY3VzdG9tLXNlbGVjdCcpLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgU2VsZWN0LmdldE9yQ3JlYXRlSW5zdGFuY2UoZWwpO1xuICAgIH0pO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFNlbGVjdDtcbiIsImltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tICcuL2NvbnRyb2xsZXInO1xuaW1wb3J0IEJhc2VDbGFzcyBmcm9tICcuL2Jhc2UtY2xhc3MnO1xuXG4vLyBTZWxmIHN0YXJ0aW5nIGluc3RhbmNlXG5jb25zdCBpbnN0YW5jZSA9IG5ldyBDb250cm9sbGVyO1xuXG5pZiAod2luZG93Lm9jKSB7XG4gICAgd2luZG93Lm9jLkZvdW5kYXRpb24gPSBpbnN0YW5jZTtcbiAgICB3aW5kb3cub2MuRm91bmRhdGlvbkJhc2UgPSBCYXNlQ2xhc3M7XG59XG5cbmluc3RhbmNlLnN0YXJ0KCk7XG5cbi8qXG4gfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gfCBGb3VuZGF0aW9uYWwgQ29tcG9uZW50c1xuIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIHxcbiAqL1xuXG5leHBvcnQgeyBkZWZhdWx0IGFzIFNlbGVjdCB9IGZyb20gJy4vY29udHJvbHMvc2VsZWN0L3NlbGVjdCc7XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImpRdWVyeSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJDb250cm9sbGVyIiwidGhpcyIsInN0YXJ0ZWQiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiY29udHJvbCIsIm9jIiwiRXZlbnRzIiwiZGlzcGF0Y2giLCJ0YXJnZXQiLCJoYXNBdHRyaWJ1dGUiLCJiaW5kQXV0b0Rpc3Bvc2FsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2IiwiZGlzcG9zZUNvbnRyb2xzIiwibm9ybWFsaXplRGF0YSIsInZhbHVlIiwiTnVtYmVyIiwidG9TdHJpbmciLCJKU09OIiwicGFyc2UiLCJkZWNvZGVVUklDb21wb25lbnQiLCJub3JtYWxpemVEYXRhS2V5Iiwia2V5IiwicmVwbGFjZSIsImNociIsInRvTG93ZXJDYXNlIiwic2V0RGF0YUF0dHJpYnV0ZSIsImVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVEYXRhQXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZ2V0RGF0YUF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiT2JqZWN0Iiwia2V5cyIsImRhdGFzZXQiLCJnZXREYXRhQXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwiZWxlbWVudE1hcCIsIk1hcCIsImluc3RhbmNlIiwiaGFzIiwic2V0IiwiaW5zdGFuY2VNYXAiLCJnZXQiLCJzaXplIiwiY29uc29sZSIsImVycm9yIiwiQXJyYXkiLCJmcm9tIiwiQmFzZUNsYXNzIiwiY29uZmlnIiwiZ2V0RWxlbWVudCIsImdldENvbmZpZyIsInByb3hpZWRNZXRob2RzIiwiRGF0YSIsImNvbnN0cnVjdG9yIiwiREFUQU5BTUUiLCJmb3JnZXQiLCJwcm94eSIsImRpc3Bvc2UiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZXZlbnROYW1lIiwiaGFuZGxlciIsImNhbGxiYWNrIiwib24iLCJvbmUiLCJvZmYiLCJhcmdzIiwibGlzdGVuIiwibWV0aG9kIiwib2NQcm94eUlkIiwicHJveHlDb3VudGVyIiwiYmluZCIsIkRFRkFVTFRTIiwiQ29uZmlnIiwiZ2V0SW5zdGFuY2UiLCJvYmplY3QiLCJsZW5ndGgiLCJxdWVyeVNlbGVjdG9yIiwiU2VsZWN0IiwiJGVsIiwiJCIsImZvcm1hdFNlbGVjdE9wdGlvbiIsInN0YXRlIiwidGV4dCIsImh0bWwiLCJpZCIsIiRvcHRpb24iLCJzdGF0dXNDb2xvciIsInN0YXR1cyIsImRhdGEiLCJpY29uQ2xhc3MiLCJpY29uIiwiaW1hZ2VTcmMiLCJpbWFnZSIsImRpc2FibGVTZWxlY3QiLCJldmVudCIsInNlbGVjdDIiLCJzZWxmIiwidHJpZ2dlck5hdGl2ZUNoYW5nZSIsImN1cnJlbnRUYXJnZXQiLCJkZXN0cm95UGxhY2Vob2xkZXIiLCJiaW5kQ3VzdG9tU2VsZWN0IiwiYmluZEN1c3RvbVNlbGVjdFdvcmthcm91bmQiLCJtYXJrRGlzcG9zYWJsZSIsIiRjb250YWluZXIiLCJhZGRDbGFzcyIsIm9wdGlvbnMiLCJjb250YWluZXJDc3NDbGFzcyIsInNlbGVjdDJPcGVuV29ya2Fyb3VuZCIsInNldFRpbWVvdXQiLCJmb2N1cyIsImNsb25lUGxhY2Vob2xkZXIiLCJhcnRlZmFjdCIsIm5leHRFbGVtZW50U2libGluZyIsIm1hdGNoZXMiLCJyZW1vdmUiLCJuZXdOb2RlIiwiY2xvbmVOb2RlIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsIm5leHRTaWJsaW5nIiwiaW5uZXJIdG1sIiwic3R5bGUiLCJkaXNwbGF5IiwiYnVpbGRTZWxlY3RPcHRpb25zIiwiYnVpbGRBamF4SGFuZGxlck9wdGlvbiIsInRva2VuU2VwYXJhdG9ycyIsImJ1aWxkVG9rZW5TZXBhcmF0b3JPcHRpb25zIiwic2VsZWN0T3B0aW9ucyIsInNlcGFyYXRvcnMiLCJ0YWdzIiwic3BsaXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInNlbGVjdE9uQ2xvc2UiLCJjbG9zZU9uU2VsZWN0IiwibWluaW11bUlucHV0TGVuZ3RoIiwiaGlnaGxpZ2h0ZWRFbHMiLCJyZW1vdmVDbGFzcyIsImFqYXgiLCJ0cmFuc3BvcnQiLCJwYXJhbXMiLCJzdWNjZXNzIiwiZmFpbHVyZSIsInJlcXVlc3QiLCJkb25lIiwiZmFpbCIsInByb2Nlc3NSZXN1bHRzIiwicmVzdWx0cyIsInJlc3VsdCIsImkiLCJoYXNPd25Qcm9wZXJ0eSIsInB1c2giLCJkYXRhVHlwZSIsInRlbXBsYXRlUmVzdWx0IiwidGVtcGxhdGVTZWxlY3Rpb24iLCJlc2NhcGVNYXJrdXAiLCJtIiwid2lkdGgiLCJkcm9wZG93bkNzc0NsYXNzIiwic2VsZWN0aW9uQ3NzQ2xhc3MiLCJtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaCIsIkluZmluaXR5IiwiZHJvcGRvd25BdXRvV2lkdGgiLCJsYW5ndWFnZSIsIm1ldGEiLCJwbGFjZWhvbGRlciIsImFsbG93Q2xlYXIiLCJhbmltYXRpb24iLCJhdXRvaGlkZSIsImRlbGF5IiwiZWwiLCJnZXRPckNyZWF0ZUluc3RhbmNlIiwid2luZG93IiwiRm91bmRhdGlvbiIsIkZvdW5kYXRpb25CYXNlIiwic3RhcnQiXSwic291cmNlUm9vdCI6IiJ9